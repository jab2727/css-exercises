<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">

    <title>Rock Paper Scissor</title>

  </head>

  <body>
    <h1>Rock Paper Scissor</h1>

    <div class="form">
        <label for="guessField">Choose your weapon: </label>
        <input type="submit" value="Rock" class="weaponRock">
        <input type="submit" value="Paper" class="weaponPaper">
        <input type="submit" value="Scissor" class="weaponScissor">
    </div>

    <h2 class="results"></h2>
    <h3 class="score"></h3>

    <script>

        const weaponRock = document.querySelector('.weaponRock');
        const weaponPaper = document.querySelector('.weaponPaper');
        const weaponScissor = document.querySelector('.weaponScissor');
        const results = document.querySelector('.results');
        const score = document.querySelector('.score');
        let wins = 0;
        let losses = 0;

        function getComputerChoice() {
            let randomNumber = Math.random();
            let computerChoice;
            if (randomNumber < 1/3){
                computerChoice = "Rock";
            } else if (randomNumber > 2/3){
                computerChoice = "Paper";
            } else{
                computerChoice = "Scissor";
            }
            return computerChoice;
        }

        function checkWinner(userWeapon){
            const computerSelection = getComputerChoice();
            switch(userWeapon){
                case "Rock":
                    if (computerSelection === "Paper"){
                        results.textContent = "Paper covers your rock.";
                        losses += 1
                    } else if (computerSelection === "Scissor"){
                        results.textContent = "You smashed the scissor.";
                        wins += 1;
                    } else {
                        results.textContent = "Rock on.";
                    }
                    break;
                case "Paper":
                    if (computerSelection === "Rock"){
                        results.textContent = "You smother the rock.";
                        wins += 1;
                    } else if (computerSelection === "Scissor"){
                        results.textContent = "The scissor slices and dices you.";
                        losses += 1
                    } else{
                        results.textContent = "You must be making a book.";
                    }
                    break;
                case "Scissor":
                    if (computerSelection === "Paper"){
                        results.textContent = "You slice through paper like a hot knife through butter.";
                        wins += 1;
                    } else if (computerSelection === "Rock"){
                        results.textContent = "You get rocked.";
                        losses += 1
                    } else{results.textContent = "You scissor all night long.";}
                    break;
                }
            if (wins<5 && losses<5){
                score.textContent = `The score is ${wins} to ${losses}.`;
            } else if (wins>4){
                score.textContent = 'You win!';
                wins = losses = 0;
            } else {
                score.textContent = 'You lose :(';
                wins = losses = 0;
            }

        }

        
        weaponRock.addEventListener('click', function(){checkWinner("Rock");});
        weaponPaper.addEventListener('click', function(){checkWinner("Paper");});
        weaponScissor.addEventListener('click', function(){checkWinner("Scissor");});
    </script>
  </body>
</html>